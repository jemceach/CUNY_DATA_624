<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Assignment Five | Homework One</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Assignment Five | Homework One" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Assignment Five | Homework One" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Vinicio Haro" />
<meta name="author" content="Sang Yoon (Andy) Hwang" />
<meta name="author" content="Julian McEachern" />
<meta name="author" content="Jeremy O’Brien" />
<meta name="author" content="Bethany Poulin" />


<meta name="date" content="2019-10-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="assignment-four.html"/>
<link rel="next" href="assignment-six.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data 624 - Homework I</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#dependencies"><i class="fa fa-check"></i><b>0.1</b> Dependencies</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#data-files"><i class="fa fa-check"></i><b>0.2</b> Data Files</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="assignment-one.html"><a href="assignment-one.html"><i class="fa fa-check"></i><b>1</b> Assignment One</a><ul>
<li class="chapter" data-level="1.1" data-path="assignment-one.html"><a href="assignment-one.html#hyndman-exercise-2.1"><i class="fa fa-check"></i><b>1.1</b> Hyndman Exercise 2.1</a><ul>
<li class="chapter" data-level="1.1.1" data-path="assignment-one.html"><a href="assignment-one.html#a.-use-autoplot-to-plot-each-of-these-in-separate-plots."><i class="fa fa-check"></i><b>1.1.1</b> a. Use <code>autoplot()</code> to plot each of these in separate plots.</a></li>
<li class="chapter" data-level="1.1.2" data-path="assignment-one.html"><a href="assignment-one.html#b.-what-is-the-frequency-of-each-series-hint-apply-the-frequency-function."><i class="fa fa-check"></i><b>1.1.2</b> b. What is the frequency of each series? Hint: apply the <code>frequency()</code> function.</a></li>
<li class="chapter" data-level="1.1.3" data-path="assignment-one.html"><a href="assignment-one.html#c.-use-which.max-to-spot-the-outlier-in-the-gold-series.-which-observation-was-it"><i class="fa fa-check"></i><b>1.1.3</b> c. Use <code>which.max()</code> to spot the outlier in the gold series. Which observation was it?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="assignment-one.html"><a href="assignment-one.html#hyndman-exercise-2.3"><i class="fa fa-check"></i><b>1.2</b> Hyndman Exercise 2.3</a><ul>
<li class="chapter" data-level="1.2.1" data-path="assignment-one.html"><a href="assignment-one.html#a.-you-can-read-the-data-into-r-with-the-following-script"><i class="fa fa-check"></i><b>1.2.1</b> a. You can read the data into R with the following script:</a></li>
<li class="chapter" data-level="1.2.2" data-path="assignment-one.html"><a href="assignment-one.html#b.-select-one-of-the-time-series-as-follows-but-replace-the-column-name-with-your-own-chosen-column"><i class="fa fa-check"></i><b>1.2.2</b> b. Select one of the time series as follows (but replace the column name with your own chosen column):</a></li>
<li class="chapter" data-level="1.2.3" data-path="assignment-one.html"><a href="assignment-one.html#c.-explore-your-chosen-retail-time-series-using-the-following-functions-autoplot-ggseasonplot-ggsubseriesplot-gglagplot-ggacf."><i class="fa fa-check"></i><b>1.2.3</b> c. Explore your chosen retail time series using the following functions: <code>autoplot()</code>, <code>ggseasonplot()</code>, <code>ggsubseriesplot()</code>, <code>gglagplot()</code>, <code>ggAcf()</code>.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="assignment-two.html"><a href="assignment-two.html"><i class="fa fa-check"></i><b>2</b> Assignment Two</a><ul>
<li class="chapter" data-level="2.1" data-path="assignment-two.html"><a href="assignment-two.html#hyndman-6.2"><i class="fa fa-check"></i><b>2.1</b> Hyndman 6.2</a><ul>
<li class="chapter" data-level="2.1.1" data-path="assignment-two.html"><a href="assignment-two.html#a.-plot-the-time-series-of-sales-of-product-a.-can-you-identify-seasonal-fluctuations-andor-a-trend-cycle"><i class="fa fa-check"></i><b>2.1.1</b> a. Plot the time series of sales of product A. Can you identify seasonal fluctuations and/or a trend-cycle?</a></li>
<li class="chapter" data-level="2.1.2" data-path="assignment-two.html"><a href="assignment-two.html#b.-use-a-classical-multiplicative-decomposition-to-calculate-the-trend-cycle-and-seasonal-indices."><i class="fa fa-check"></i><b>2.1.2</b> b. Use a classical multiplicative decomposition to calculate the trend cycle and seasonal indices.</a></li>
<li class="chapter" data-level="2.1.3" data-path="assignment-two.html"><a href="assignment-two.html#c.-do-the-results-support-the-graphical-interpretations-from-part-a"><i class="fa fa-check"></i><b>2.1.3</b> c. Do the results support the graphical interpretations from part a?</a></li>
<li class="chapter" data-level="2.1.4" data-path="assignment-two.html"><a href="assignment-two.html#d.-compute-and-plot-the-seasonally-adjusted-data."><i class="fa fa-check"></i><b>2.1.4</b> d. Compute and plot the seasonally adjusted data.</a></li>
<li class="chapter" data-level="2.1.5" data-path="assignment-two.html"><a href="assignment-two.html#e.-change-one-observation-to-be-an-outlier-and-recompute-the-seasonally-adjusted-data.-what-is-the-effect-of-the-outlier"><i class="fa fa-check"></i><b>2.1.5</b> e. Change one observation to be an outlier and recompute the seasonally adjusted data. What is the effect of the outlier?</a></li>
<li class="chapter" data-level="2.1.6" data-path="assignment-two.html"><a href="assignment-two.html#f.-does-it-make-any-difference-if-the-outlier-is-near-the-end-rather-than-in-the-middle-of-the-time-series"><i class="fa fa-check"></i><b>2.1.6</b> f. Does it make any difference if the outlier is near the end rather than in the middle of the time series?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="assignment-three.html"><a href="assignment-three.html"><i class="fa fa-check"></i><b>3</b> Assignment Three</a><ul>
<li class="chapter" data-level="3.1" data-path="assignment-three.html"><a href="assignment-three.html#kuhn-johnson-3.1"><i class="fa fa-check"></i><b>3.1</b> Kuhn &amp; Johnson 3.1</a><ul>
<li class="chapter" data-level="3.1.1" data-path="assignment-three.html"><a href="assignment-three.html#a.-using-visualizations-explore-the-predictor-variables-to-understand-their-distributions-as-well-as-the-relationships-between-predictors."><i class="fa fa-check"></i><b>3.1.1</b> a. Using visualizations, explore the predictor variables to understand their distributions as well as the relationships between predictors.</a></li>
<li class="chapter" data-level="3.1.2" data-path="assignment-three.html"><a href="assignment-three.html#b.-do-there-appear-to-be-any-outliers-in-the-data-are-any-predictors-skewed"><i class="fa fa-check"></i><b>3.1.2</b> b. Do there appear to be any outliers in the data? Are any predictors skewed?</a></li>
<li class="chapter" data-level="3.1.3" data-path="assignment-three.html"><a href="assignment-three.html#c.-are-there-any-relevant-transformations-of-one-or-more-predictors-that-might-improve-the-classification-model"><i class="fa fa-check"></i><b>3.1.3</b> c. Are there any relevant transformations of one or more predictors that might improve the classification model?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="assignment-three.html"><a href="assignment-three.html#kuhn-johnson-3.2"><i class="fa fa-check"></i><b>3.2</b> Kuhn &amp; Johnson 3.2</a><ul>
<li class="chapter" data-level="3.2.1" data-path="assignment-three.html"><a href="assignment-three.html#a.-investigate-the-frequency-distributions-for-the-categorical-predictors.-are-any-of-the-distributions-degenerate-in-the-ways-discussed-earlier-in-this-chapter"><i class="fa fa-check"></i><b>3.2.1</b> a. Investigate the frequency distributions for the categorical predictors. Are any of the distributions degenerate in the ways discussed earlier in this chapter?</a></li>
<li><a href="assignment-three.html#b.-roughly-18-of-the-data-are-missing.-are-there-particular-predictors-that-are-more-likely-to-be-missing-is-the-pattern-of-missing-data-related-to-the-classes-c.-develop-a-strategy-for-handling-missing-data-either-by-eliminating-predictors-or-imputation."><span class="toc-section-number">3.2.2</span> b. Roughly 18% of the data are missing. Are there particular predictors that are more likely to be missing? Is the pattern of missing data related to the classes?<strong>
### c. Develop a strategy for handling missing data, either by eliminating predictors or imputation.</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="assignment-four.html"><a href="assignment-four.html"><i class="fa fa-check"></i><b>4</b> Assignment Four</a><ul>
<li class="chapter" data-level="4.1" data-path="assignment-four.html"><a href="assignment-four.html#hyndman-7.1"><i class="fa fa-check"></i><b>4.1</b> Hyndman 7.1</a><ul>
<li class="chapter" data-level="4.1.1" data-path="assignment-four.html"><a href="assignment-four.html#a.-use-the-ses-function-in-r-to-find-the-optimal-values-of-alpha-and-ell_0-and-generate-forecasts-for-the-next-four-months."><i class="fa fa-check"></i><b>4.1.1</b> a. Use the <code>ses()</code> function in R to find the optimal values of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\ell_0\)</span>, and generate forecasts for the next four months.</a></li>
<li class="chapter" data-level="4.1.2" data-path="assignment-four.html"><a href="assignment-four.html#b.-compute-a-95-prediction-interval-for-the-first-forecast-using-hatypm1.96s-where-s-is-the-standard-deviation-of-the-residuals.-compare-your-interval-with-the-interval-produced-by-r."><i class="fa fa-check"></i><b>4.1.2</b> b. Compute a 95% prediction interval for the first forecast using <span class="math inline">\(\hat{y}\pm1.96s\)</span> where <span class="math inline">\(s\)</span> is the standard deviation of the residuals. Compare your interval with the interval produced by R.</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="assignment-four.html"><a href="assignment-four.html#hyndman-7.3"><i class="fa fa-check"></i><b>4.2</b> Hyndman 7.3</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="assignment-five.html"><a href="assignment-five.html"><i class="fa fa-check"></i><b>5</b> Assignment Five</a><ul>
<li class="chapter" data-level="5.1" data-path="assignment-five.html"><a href="assignment-five.html#hyndman-7.5"><i class="fa fa-check"></i><b>5.1</b> Hyndman 7.5</a><ul>
<li class="chapter" data-level="5.1.1" data-path="assignment-five.html"><a href="assignment-five.html#a.-plot-the-series-and-discuss-the-main-features-of-the-data."><i class="fa fa-check"></i><b>5.1.1</b> a. Plot the series and discuss the main features of the data.</a></li>
<li class="chapter" data-level="5.1.2" data-path="assignment-five.html"><a href="assignment-five.html#b.-use-the-ses-function-to-forecast-each-series-and-plot-the-forecasts."><i class="fa fa-check"></i><b>5.1.2</b> b. Use the <code>ses()</code> function to forecast each series, and plot the forecasts.</a></li>
<li class="chapter" data-level="5.1.3" data-path="assignment-five.html"><a href="assignment-five.html#c.-compute-the-rmse-values-for-the-training-data-in-each-case."><i class="fa fa-check"></i><b>5.1.3</b> c. Compute the RMSE values for the training data in each case.</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="assignment-five.html"><a href="assignment-five.html#hyndman-7.6"><i class="fa fa-check"></i><b>5.2</b> Hyndman 7.6</a><ul>
<li class="chapter" data-level="5.2.1" data-path="assignment-five.html"><a href="assignment-five.html#a.-now-apply-holts-linear-method-to-the-paperback-and-hardback-series-and-compute-four-day-forecasts-in-each-case."><i class="fa fa-check"></i><b>5.2.1</b> a. Now apply Holt’s linear method to the paperback and hardback series and compute four-day forecasts in each case.</a></li>
<li class="chapter" data-level="5.2.2" data-path="assignment-five.html"><a href="assignment-five.html#b.-compare-the-rmse-measures-of-holts-method-for-the-two-series-to-those-of-simple-exponential-smoothing-in-the-previous-question.-discuss-the-merits-of-the-two-forecasting-methods-for-these-data-sets."><i class="fa fa-check"></i><b>5.2.2</b> b. Compare the RMSE measures of Holt’s method for the two series to those of simple exponential smoothing in the previous question. Discuss the merits of the two forecasting methods for these data sets.</a></li>
<li class="chapter" data-level="5.2.3" data-path="assignment-five.html"><a href="assignment-five.html#c.-compare-the-forecasts-for-the-two-series-using-both-methods.-which-do-you-think-is-best"><i class="fa fa-check"></i><b>5.2.3</b> c. Compare the forecasts for the two series using both methods. Which do you think is best?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="assignment-five.html"><a href="assignment-five.html#hyndman-7.10"><i class="fa fa-check"></i><b>5.3</b> Hyndman 7.10</a><ul>
<li class="chapter" data-level="5.3.1" data-path="assignment-five.html"><a href="assignment-five.html#a.-plot-the-data-and-describe-the-main-features-of-the-series."><i class="fa fa-check"></i><b>5.3.1</b> a. Plot the data and describe the main features of the series.</a></li>
<li class="chapter" data-level="5.3.2" data-path="assignment-five.html"><a href="assignment-five.html#b.-decompose-the-series-using-stl-and-obtain-the-seasonally-adjusted-data."><i class="fa fa-check"></i><b>5.3.2</b> b. Decompose the series using STL and obtain the seasonally adjusted data.</a></li>
<li class="chapter" data-level="5.3.3" data-path="assignment-five.html"><a href="assignment-five.html#stl-decomposition"><i class="fa fa-check"></i><b>5.3.3</b> STL Decomposition</a></li>
<li class="chapter" data-level="5.3.4" data-path="assignment-five.html"><a href="assignment-five.html#seasonal-plots"><i class="fa fa-check"></i><b>5.3.4</b> Seasonal Plots</a></li>
<li class="chapter" data-level="5.3.5" data-path="assignment-five.html"><a href="assignment-five.html#c.-forecast-the-next-two-years-of-the-series-using-an-additive-damped-trend-method-applied-to-the-seasonally-adjusted-data.-this-can-be-done-in-one-step-using-stlf-with-arguments-etsmodelaan-dampedtrue."><i class="fa fa-check"></i><b>5.3.5</b> c. Forecast the next two years of the series using an additive damped trend method applied to the seasonally adjusted data. (This can be done in one step using stlf() with arguments etsmodel=“AAN”, damped=TRUE.)</a></li>
<li class="chapter" data-level="5.3.6" data-path="assignment-five.html"><a href="assignment-five.html#d.-forecast-the-next-two-years-of-the-series-using-holts-linear-method-applied-to-the-seasonally-adjusted-data-as-before-but-with-dampedfalse."><i class="fa fa-check"></i><b>5.3.6</b> d. Forecast the next two years of the series using Holt’s linear method applied to the seasonally adjusted data (as before but with damped=FALSE).</a></li>
<li class="chapter" data-level="5.3.7" data-path="assignment-five.html"><a href="assignment-five.html#e.-now-use-ets-to-choose-a-seasonal-model-for-the-data."><i class="fa fa-check"></i><b>5.3.7</b> e. Now use ets() to choose a seasonal model for the data.</a></li>
<li class="chapter" data-level="5.3.8" data-path="assignment-five.html"><a href="assignment-five.html#f.-compare-the-rmse-of-the-ets-model-with-the-rmse-of-the-models-you-obtained-using-stl-decompositions.-which-gives-the-better-in-sample-fits"><i class="fa fa-check"></i><b>5.3.8</b> f. Compare the RMSE of the ETS model with the RMSE of the models you obtained using STL decompositions. Which gives the better in-sample fits?</a></li>
<li class="chapter" data-level="5.3.9" data-path="assignment-five.html"><a href="assignment-five.html#g.-compare-the-forecasts-from-the-three-approaches-which-seems-most-reasonable"><i class="fa fa-check"></i><b>5.3.9</b> g. Compare the forecasts from the three approaches? Which seems most reasonable?</a></li>
<li class="chapter" data-level="5.3.10" data-path="assignment-five.html"><a href="assignment-five.html#h.-check-the-residuals-of-your-preferred-model."><i class="fa fa-check"></i><b>5.3.10</b> h. Check the residuals of your preferred model.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="assignment-six.html"><a href="assignment-six.html"><i class="fa fa-check"></i><b>6</b> Assignment Six</a><ul>
<li class="chapter" data-level="6.1" data-path="assignment-six.html"><a href="assignment-six.html#hyndman-8.1"><i class="fa fa-check"></i><b>6.1</b> Hyndman 8.1</a><ul>
<li class="chapter" data-level="6.1.1" data-path="assignment-six.html"><a href="assignment-six.html#a.-explain-the-differences-among-these-figures.-do-they-all-indicate-that-the-data-are-white-noise"><i class="fa fa-check"></i><b>6.1.1</b> a. Explain the differences among these figures. Do they all indicate that the data are white noise?</a></li>
<li class="chapter" data-level="6.1.2" data-path="assignment-six.html"><a href="assignment-six.html#b.-why-are-the-critical-values-at-different-distances-from-the-mean-of-zero-why-are-the-autocorrelations-different-in-each-figure-when-they-each-refer-to-white-noise"><i class="fa fa-check"></i><b>6.1.2</b> b. Why are the critical values at different distances from the mean of zero? Why are the autocorrelations different in each figure when they each refer to white noise?</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="assignment-six.html"><a href="assignment-six.html#hyndman-8.2"><i class="fa fa-check"></i><b>6.2</b> Hyndman 8.2</a><ul>
<li class="chapter" data-level="6.2.1" data-path="assignment-six.html"><a href="assignment-six.html#a.-time-series-plot"><i class="fa fa-check"></i><b>6.2.1</b> a. Time Series Plot</a></li>
<li class="chapter" data-level="6.2.2" data-path="assignment-six.html"><a href="assignment-six.html#b.-acf-plot"><i class="fa fa-check"></i><b>6.2.2</b> b. ACF Plot</a></li>
<li class="chapter" data-level="6.2.3" data-path="assignment-six.html"><a href="assignment-six.html#c.-pacf-plot"><i class="fa fa-check"></i><b>6.2.3</b> c. PACF Plot</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="assignment-six.html"><a href="assignment-six.html#hyndman-8.6"><i class="fa fa-check"></i><b>6.3</b> Hyndman 8.6</a><ul>
<li class="chapter" data-level="6.3.1" data-path="assignment-six.html"><a href="assignment-six.html#a.-use-the-following-r-code-to-generate-data-from-an-ar1-model-with-phi_10.6-and-sigma21.-the-process-starts-with-y_10."><i class="fa fa-check"></i><b>6.3.1</b> a. Use the following R code to generate data from an AR(1) model with <span class="math inline">\(\phi_1=0.6\)</span> and <span class="math inline">\(\sigma^2=1\)</span>. The process starts with <span class="math inline">\(y_1=0\)</span>.</a></li>
<li class="chapter" data-level="6.3.2" data-path="assignment-six.html"><a href="assignment-six.html#b.-produce-a-time-plot-for-the-series.-how-does-the-plot-change-as-you-change-phi_1"><i class="fa fa-check"></i><b>6.3.2</b> b. Produce a time plot for the series. How does the plot change as you change <span class="math inline">\(\phi_1\)</span>?</a></li>
<li class="chapter" data-level="6.3.3" data-path="assignment-six.html"><a href="assignment-six.html#c.-write-your-own-code-to-generate-data-from-an-ma1-model-with-theta_10.6-and-sigma21."><i class="fa fa-check"></i><b>6.3.3</b> c. Write your own code to generate data from an MA(1) model with <span class="math inline">\(\theta_1=0.6\)</span> and <span class="math inline">\(sigma^2=1\)</span>.</a></li>
<li class="chapter" data-level="6.3.4" data-path="assignment-six.html"><a href="assignment-six.html#d.-produce-a-time-plot-for-the-series.-how-does-the-plot-change-as-you-change-theta_1"><i class="fa fa-check"></i><b>6.3.4</b> d. Produce a time plot for the series. How does the plot change as you change <span class="math inline">\(\theta_1\)</span>?</a></li>
<li class="chapter" data-level="6.3.5" data-path="assignment-six.html"><a href="assignment-six.html#e.-generate-data-from-an-arma11-model-with-phi_10.6-theta_10.6-and-sigma21."><i class="fa fa-check"></i><b>6.3.5</b> e. Generate data from an ARMA(1,1) model with <span class="math inline">\(\phi_1=0.6\)</span>, <span class="math inline">\(\theta_1=0.6\)</span>, and <span class="math inline">\(\sigma^2=1\)</span>.</a></li>
<li class="chapter" data-level="6.3.6" data-path="assignment-six.html"><a href="assignment-six.html#f.-generate-data-from-an-ar2-model-with-phi_1-0.8-phi_20.3-and-sigma21.-note-that-these-parameters-will-give-a-non-stationary-series."><i class="fa fa-check"></i><b>6.3.6</b> f. Generate data from an AR(2) model with <span class="math inline">\(\phi_1=-0.8\)</span>, <span class="math inline">\(\phi_2=0.3\)</span>, and <span class="math inline">\(\sigma^2=1\)</span>. (Note that these parameters will give a non-stationary series.)</a></li>
<li class="chapter" data-level="6.3.7" data-path="assignment-six.html"><a href="assignment-six.html#g.-graph-the-latter-two-series-and-compare-them."><i class="fa fa-check"></i><b>6.3.7</b> g. Graph the latter two series and compare them.</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="assignment-six.html"><a href="assignment-six.html#hyndman-8.8"><i class="fa fa-check"></i><b>6.4</b> Hyndman 8.8</a><ul>
<li class="chapter" data-level="6.4.1" data-path="assignment-six.html"><a href="assignment-six.html#a.-use-auto.arima-to-find-an-appropriate-arima-model.-what-model-was-selected.-check-that-the-residuals-look-like-white-noise.-plot-forecasts-for-the-next-10-periods."><i class="fa fa-check"></i><b>6.4.1</b> a. Use auto.arima() to find an appropriate ARIMA model. What model was selected. Check that the residuals look like white noise. Plot forecasts for the next 10 periods.</a></li>
<li class="chapter" data-level="6.4.2" data-path="assignment-six.html"><a href="assignment-six.html#b.-plot-forecasts-from-an-arima011-model-with-no-drift-and-compare-these-to-part-a.-remove-the-ma-term-and-plot-again."><i class="fa fa-check"></i><b>6.4.2</b> b. Plot forecasts from an ARIMA(0,1,1) model with no drift and compare these to part a. Remove the MA term and plot again.</a></li>
<li class="chapter" data-level="6.4.3" data-path="assignment-six.html"><a href="assignment-six.html#with-ma"><i class="fa fa-check"></i><b>6.4.3</b> With MA</a></li>
<li class="chapter" data-level="6.4.4" data-path="assignment-six.html"><a href="assignment-six.html#without-ma"><i class="fa fa-check"></i><b>6.4.4</b> Without MA</a></li>
<li class="chapter" data-level="6.4.5" data-path="assignment-six.html"><a href="assignment-six.html#comparing"><i class="fa fa-check"></i><b>6.4.5</b> Comparing</a></li>
<li class="chapter" data-level="6.4.6" data-path="assignment-six.html"><a href="assignment-six.html#c.-plot-forecasts-from-an-arima213-model-with-drift."><i class="fa fa-check"></i><b>6.4.6</b> (c.) Plot forecasts from an ARIMA(2,1,3) model with drift.</a></li>
<li class="chapter" data-level="6.4.7" data-path="assignment-six.html"><a href="assignment-six.html#d.-plot-forecasts-from-an-arima001-model-with-a-constant.-remove-the-ma-term-and-plot-again."><i class="fa fa-check"></i><b>6.4.7</b> (d.) Plot forecasts from an ARIMA(0,0,1) model with a constant. Remove the MA term and plot again.</a></li>
<li class="chapter" data-level="6.4.8" data-path="assignment-six.html"><a href="assignment-six.html#with-ma-1"><i class="fa fa-check"></i><b>6.4.8</b> With MA</a></li>
<li class="chapter" data-level="6.4.9" data-path="assignment-six.html"><a href="assignment-six.html#without-ma-1"><i class="fa fa-check"></i><b>6.4.9</b> Without MA</a></li>
<li class="chapter" data-level="6.4.10" data-path="assignment-six.html"><a href="assignment-six.html#accuracy"><i class="fa fa-check"></i><b>6.4.10</b> Accuracy</a></li>
<li class="chapter" data-level="6.4.11" data-path="assignment-six.html"><a href="assignment-six.html#e.-plot-forecasts-from-an-arima021-model-with-no-constant."><i class="fa fa-check"></i><b>6.4.11</b> (e.) Plot forecasts from an ARIMA(0,2,1) model with no constant.</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Homework One</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="assignment-five" class="section level1">
<h1><span class="header-section-number">5</span> Assignment Five</h1>
<ul>
<li>Hyndman 7.5</li>
<li>Hyndman 7.6</li>
<li>Hyndman 7.10</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co">#Textbook Packages</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(fpp2)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(AppliedPredictiveModeling)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(mlbench)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#Processing</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#Graphing</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="kw">library</span>(grid)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="kw">library</span>(gridExtra)</a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="kw">library</span>(lemon)</a>
<a class="sourceLine" id="cb1-14" data-line-number="14"></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="co">#Math</span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="kw">library</span>(caret)</a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="kw">library</span>(forecast)</a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="kw">library</span>(randomForest)</a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="kw">library</span>(seasonal)</a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="kw">library</span>(psych)</a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="kw">library</span>(corrplot)</a>
<a class="sourceLine" id="cb1-22" data-line-number="22"></a>
<a class="sourceLine" id="cb1-23" data-line-number="23"><span class="co">#Formatting</span></a>
<a class="sourceLine" id="cb1-24" data-line-number="24"><span class="kw">library</span>(knitr)</a>
<a class="sourceLine" id="cb1-25" data-line-number="25"><span class="kw">library</span>(kableExtra)</a>
<a class="sourceLine" id="cb1-26" data-line-number="26"><span class="kw">library</span>(default)</a></code></pre></div>
<div id="hyndman-7.5" class="section level2">
<h2><span class="header-section-number">5.1</span> Hyndman 7.5</h2>
<blockquote>
<p>Data set books contains the daily sales of paperback and hardcover books at the same store. The task is to forecast the next four days’ sales for paperback and hardcover books.</p>
</blockquote>
<div id="a.-plot-the-series-and-discuss-the-main-features-of-the-data." class="section level3">
<h3><span class="header-section-number">5.1.1</span> a. Plot the series and discuss the main features of the data.</h3>
<div id="timeseries-plot" class="section level4">
<h4><span class="header-section-number">5.1.1.1</span> Timeseries Plot</h4>
<p>The <code>books</code> data shows an overall positive trend over the 30-day period for paperback and hardcover books. There is heavy fluctuation between days, suggesting seasonality within the time series. While paperbacks and hardcovers both have a similar range of unit sales, peaks and valleys are not well synchronized.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">autoplot</span>(books, <span class="dt">facet =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Daily Sales of Paperback and Hardcover Books&quot;</span>, </a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="dt">x =</span> <span class="st">&quot;Days&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Sales&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span><span class="kw">theme</span>()</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.5a1-1.png" width="960" /></p>
</div>
<div id="decomposed-plot" class="section level4">
<h4><span class="header-section-number">5.1.1.2</span> Decomposed Plot</h4>
<p>We can look at the decomposed timeseries to better understand the trend and seasonality on a weekly basis. Sales tend to peak three times per week and increase throughout the entire month. The paperback books trend increases more drastically between weeks two and four, while hardcover books appear to have smoother incline. Hardcover books also show sharper fluctuations in the seasonal component.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">paperback &lt;-<span class="st"> </span>books[, <span class="dv">1</span>]</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">hardcover &lt;-<span class="st"> </span>books[, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">pb_plot &lt;-<span class="st"> </span><span class="kw">ts</span>(paperback, <span class="dt">frequency =</span> <span class="dv">7</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw">decompose</span>(<span class="dt">type =</span> <span class="st">&quot;multiplicative&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="st">  </span><span class="kw">autoplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Paperback Books&quot;</span>, </a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="dt">x =</span> <span class="st">&quot;Weeks&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9">hc_plot &lt;-<span class="st"> </span><span class="kw">ts</span>(hardcover, <span class="dt">frequency =</span> <span class="dv">7</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="st">  </span><span class="kw">decompose</span>(<span class="dt">type =</span> <span class="st">&quot;multiplicative&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="st">  </span><span class="kw">autoplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Hardcover Books&quot;</span>, </a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  <span class="dt">x =</span> <span class="st">&quot;Weeks&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw">grid.arrange</span>(pb_plot, hc_plot, <span class="dt">ncol =</span> <span class="dv">2</span>, </a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  <span class="dt">top =</span> <span class="kw">textGrob</span>(<span class="st">&quot;Decomposition of Multiplicative TS&quot;</span>, </a>
<a class="sourceLine" id="cb3-16" data-line-number="16">    <span class="dt">gp =</span> <span class="kw">gpar</span>(<span class="dt">fontface =</span> <span class="st">&quot;bold&quot;</span>, <span class="dt">cex =</span> <span class="fl">1.5</span>)))</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.5a2-1.png" width="960" /></p>
</div>
</div>
<div id="b.-use-the-ses-function-to-forecast-each-series-and-plot-the-forecasts." class="section level3 tabset">
<h3><span class="header-section-number">5.1.2</span> b. Use the <code>ses()</code> function to forecast each series, and plot the forecasts.</h3>
<div id="paperback-ses" class="section level4">
<h4><span class="header-section-number">5.1.2.1</span> Paperback SES</h4>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">pb_ses &lt;-<span class="st"> </span><span class="kw">ses</span>(paperback, <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">summary</span>(pb_ses)</a></code></pre></div>
<pre><code>FALSE 
FALSE Forecast method: Simple exponential smoothing
FALSE 
FALSE Model Information:
FALSE Simple exponential smoothing 
FALSE 
FALSE Call:
FALSE  ses(y = paperback, h = 4) 
FALSE 
FALSE   Smoothing parameters:
FALSE     alpha = 0.1685 
FALSE 
FALSE   Initial states:
FALSE     l = 170.8271 
FALSE 
FALSE   sigma:  34.8183
FALSE 
FALSE      AIC     AICc      BIC 
FALSE 318.9747 319.8978 323.1783 
FALSE 
FALSE Error measures:
FALSE                    ME     RMSE     MAE
FALSE Training set 7.175981 33.63769 27.8431
FALSE                    MPE     MAPE      MASE
FALSE Training set 0.4736071 15.57784 0.7021303
FALSE                    ACF1
FALSE Training set -0.2117522
FALSE 
FALSE Forecasts:
FALSE    Point Forecast    Lo 80    Hi 80    Lo 95
FALSE 31       207.1097 162.4882 251.7311 138.8670
FALSE 32       207.1097 161.8589 252.3604 137.9046
FALSE 33       207.1097 161.2382 252.9811 136.9554
FALSE 34       207.1097 160.6259 253.5935 136.0188
FALSE       Hi 95
FALSE 31 275.3523
FALSE 32 276.3147
FALSE 33 277.2639
FALSE 34 278.2005</code></pre>
</div>
<div id="hardcover-ses" class="section level4">
<h4><span class="header-section-number">5.1.2.2</span> Hardcover SES</h4>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">hc_ses &lt;-<span class="st"> </span><span class="kw">ses</span>(hardcover, <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">summary</span>(hc_ses)</a></code></pre></div>
<pre><code>FALSE 
FALSE Forecast method: Simple exponential smoothing
FALSE 
FALSE Model Information:
FALSE Simple exponential smoothing 
FALSE 
FALSE Call:
FALSE  ses(y = hardcover, h = 4) 
FALSE 
FALSE   Smoothing parameters:
FALSE     alpha = 0.3283 
FALSE 
FALSE   Initial states:
FALSE     l = 149.2861 
FALSE 
FALSE   sigma:  33.0517
FALSE 
FALSE      AIC     AICc      BIC 
FALSE 315.8506 316.7737 320.0542 
FALSE 
FALSE Error measures:
FALSE                    ME     RMSE      MAE
FALSE Training set 9.166735 31.93101 26.77319
FALSE                   MPE     MAPE      MASE
FALSE Training set 2.636189 13.39487 0.7987887
FALSE                    ACF1
FALSE Training set -0.1417763
FALSE 
FALSE Forecasts:
FALSE    Point Forecast    Lo 80    Hi 80    Lo 95
FALSE 31       239.5601 197.2026 281.9176 174.7799
FALSE 32       239.5601 194.9788 284.1414 171.3788
FALSE 33       239.5601 192.8607 286.2595 168.1396
FALSE 34       239.5601 190.8347 288.2855 165.0410
FALSE       Hi 95
FALSE 31 304.3403
FALSE 32 307.7414
FALSE 33 310.9806
FALSE 34 314.0792</code></pre>
</div>
<div id="plot" class="section level4">
<h4><span class="header-section-number">5.1.2.3</span> Plot</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">pb_ses_plot &lt;-<span class="st"> </span><span class="kw">autoplot</span>(pb_ses, <span class="dt">size =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="dt">fcol =</span> <span class="st">&quot;#0044cc&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(pb_ses), </a>
<a class="sourceLine" id="cb8-3" data-line-number="3">  <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.75</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, </a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  <span class="dt">color =</span> <span class="st">&quot;#99b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Paperback Books&quot;</span>, </a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  <span class="dt">y =</span> <span class="st">&quot;Sales&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Days&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb8-7" data-line-number="7"></a>
<a class="sourceLine" id="cb8-8" data-line-number="8">hc_ses_plot &lt;-<span class="st"> </span><span class="kw">autoplot</span>(hc_ses, <span class="dt">size =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb8-9" data-line-number="9">  <span class="dt">fcol =</span> <span class="st">&quot;#0044cc&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(hc_ses), </a>
<a class="sourceLine" id="cb8-10" data-line-number="10">  <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.75</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, </a>
<a class="sourceLine" id="cb8-11" data-line-number="11">  <span class="dt">color =</span> <span class="st">&quot;#99b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Hardcover Books&quot;</span>, </a>
<a class="sourceLine" id="cb8-12" data-line-number="12">  <span class="dt">y =</span> <span class="st">&quot;Sales&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Days&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="st">  </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb8-14" data-line-number="14"></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="kw">grid.arrange</span>(pb_ses_plot, hc_ses_plot, <span class="dt">ncol =</span> <span class="dv">2</span>, </a>
<a class="sourceLine" id="cb8-16" data-line-number="16">  <span class="dt">top =</span> <span class="kw">textGrob</span>(<span class="st">&quot;4-Day Forecast (SES)&quot;</span>, </a>
<a class="sourceLine" id="cb8-17" data-line-number="17">    <span class="dt">gp =</span> <span class="kw">gpar</span>(<span class="dt">fontface =</span> <span class="st">&quot;bold&quot;</span>, <span class="dt">cex =</span> <span class="fl">1.5</span>)))</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.5b3-1.png" width="960" /></p>
<p>As SES may work well when their is no clear trend or seasonal pattern. As it generates the next probable value and uses that for all future forecasting values, however <code>ses()</code> may not be the best long-term forecasting model for this particular data.</p>
</div>
</div>
<div id="c.-compute-the-rmse-values-for-the-training-data-in-each-case." class="section level3">
<h3><span class="header-section-number">5.1.3</span> c. Compute the RMSE values for the training data in each case.</h3>
<p>The root mean squared error (RMSE) is calculated below and tells us the spread between the residual errors from our predicted and observed using the SES method. The RMSE for paperback books is slightly higher than hardcover, suggesting better accuracy in the later’s predictions.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># manual calculation</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">sqrt</span>(<span class="kw">mean</span>(pb_ses<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>))</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="kw">sqrt</span>(<span class="kw">mean</span>(hc_ses<span class="op">$</span>residuals<span class="op">^</span><span class="dv">2</span>))</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co"># caret package</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="kw">RMSE</span>(<span class="kw">fitted</span>(pb_ses), paperback)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="kw">RMSE</span>(<span class="kw">fitted</span>(hc_ses), hardcover)</a></code></pre></div>
<p><strong>Paperback RMSE:</strong> 33.6376868<br />
<strong>Hardcover RMSE:</strong> 31.931015</p>
</div>
</div>
<div id="hyndman-7.6" class="section level2">
<h2><span class="header-section-number">5.2</span> Hyndman 7.6</h2>
<div id="a.-now-apply-holts-linear-method-to-the-paperback-and-hardback-series-and-compute-four-day-forecasts-in-each-case." class="section level3">
<h3><span class="header-section-number">5.2.1</span> a. Now apply Holt’s linear method to the paperback and hardback series and compute four-day forecasts in each case.</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">hardcover &lt;-<span class="st"> </span><span class="kw">ts</span>(books[, <span class="dv">2</span>], <span class="dt">start =</span> <span class="dv">1</span>, <span class="dt">frequency =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">softbound &lt;-<span class="st"> </span><span class="kw">ts</span>(books[, <span class="dv">1</span>], <span class="dt">start =</span> <span class="dv">1</span>, <span class="dt">frequency =</span> <span class="dv">7</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">hb &lt;-<span class="st"> </span><span class="kw">ses</span>(hardcover, <span class="dt">h =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">sb &lt;-<span class="st"> </span><span class="kw">ses</span>(softbound, <span class="dt">h =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7">acc_soft &lt;-<span class="st"> </span><span class="kw">accuracy</span>(sb)</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">acc_hard &lt;-<span class="st"> </span><span class="kw">accuracy</span>(hb)</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"></a>
<a class="sourceLine" id="cb10-10" data-line-number="10">holt_soft &lt;-<span class="st"> </span><span class="kw">holt</span>(softbound, <span class="dt">seasonal =</span> <span class="st">&quot;additive&quot;</span>, </a>
<a class="sourceLine" id="cb10-11" data-line-number="11">  <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb10-12" data-line-number="12">holt_hard &lt;-<span class="st"> </span><span class="kw">holt</span>(hardcover, <span class="dt">seasonal =</span> <span class="st">&quot;additive&quot;</span>, </a>
<a class="sourceLine" id="cb10-13" data-line-number="13">  <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb10-14" data-line-number="14"></a>
<a class="sourceLine" id="cb10-15" data-line-number="15">acc_holt_hard &lt;-<span class="st"> </span><span class="kw">accuracy</span>(holt_hard)</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">acc_holt_soft &lt;-<span class="st"> </span><span class="kw">accuracy</span>(holt_soft)</a>
<a class="sourceLine" id="cb10-17" data-line-number="17"></a>
<a class="sourceLine" id="cb10-18" data-line-number="18">pb_holt_plot &lt;-<span class="st"> </span><span class="kw">autoplot</span>(holt_soft, <span class="dt">size =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb10-19" data-line-number="19">  <span class="dt">fcol =</span> <span class="st">&quot;#7733ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(holt_soft), </a>
<a class="sourceLine" id="cb10-20" data-line-number="20">  <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.75</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, </a>
<a class="sourceLine" id="cb10-21" data-line-number="21">  <span class="dt">color =</span> <span class="st">&quot;#e0b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Paperback Books&quot;</span>, </a>
<a class="sourceLine" id="cb10-22" data-line-number="22">  <span class="dt">y =</span> <span class="st">&quot;Sales&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Days&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-23" data-line-number="23"><span class="st">  </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb10-24" data-line-number="24"></a>
<a class="sourceLine" id="cb10-25" data-line-number="25">hc_holt_plot &lt;-<span class="st"> </span><span class="kw">autoplot</span>(holt_hard, <span class="dt">size =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb10-26" data-line-number="26">  <span class="dt">fcol =</span> <span class="st">&quot;#7733ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(holt_hard), </a>
<a class="sourceLine" id="cb10-27" data-line-number="27">  <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.75</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, </a>
<a class="sourceLine" id="cb10-28" data-line-number="28">  <span class="dt">color =</span> <span class="st">&quot;#e0b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Hardcover Books&quot;</span>, </a>
<a class="sourceLine" id="cb10-29" data-line-number="29">  <span class="dt">y =</span> <span class="st">&quot;Sales&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Days&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-30" data-line-number="30"><span class="st">  </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb10-31" data-line-number="31"></a>
<a class="sourceLine" id="cb10-32" data-line-number="32"><span class="kw">grid.arrange</span>(pb_holt_plot, hc_holt_plot, </a>
<a class="sourceLine" id="cb10-33" data-line-number="33">  <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">top =</span> <span class="kw">textGrob</span>(<span class="st">&quot;4-Day Forecast (Holt)&quot;</span>, </a>
<a class="sourceLine" id="cb10-34" data-line-number="34">    <span class="dt">gp =</span> <span class="kw">gpar</span>(<span class="dt">fontface =</span> <span class="st">&quot;bold&quot;</span>, <span class="dt">cex =</span> <span class="fl">1.5</span>)))</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha7.6a-1.png" width="960" /></p>
<p>As would be expected, Holt’s linear method generates a linear trend forecast.</p>
</div>
<div id="b.-compare-the-rmse-measures-of-holts-method-for-the-two-series-to-those-of-simple-exponential-smoothing-in-the-previous-question.-discuss-the-merits-of-the-two-forecasting-methods-for-these-data-sets." class="section level3">
<h3><span class="header-section-number">5.2.2</span> b. Compare the RMSE measures of Holt’s method for the two series to those of simple exponential smoothing in the previous question. Discuss the merits of the two forecasting methods for these data sets.</h3>
<blockquote>
<p>Remember that Holt’s method is using one more parameter than SES.</p>
</blockquote>
<p><strong>RMSE Exponential Smoothed Hardcover Sales:</strong> 31.931<br />
<strong>RMSE Exponential Smoothed Paperback Sales:</strong> 33.638<br />
<strong>RMSE Holt-Winters Hardcover Sales:</strong> 27.194<br />
<strong>RMSE Holt-Winters Paperback Sales:</strong> 31.137</p>
<p>The Holt-Winter method does indeed reduce the root mean squared errors for both the paperback and hardcover book sales. This would suggest that there is in fact some level of trend acting on the book sales series.</p>
</div>
<div id="c.-compare-the-forecasts-for-the-two-series-using-both-methods.-which-do-you-think-is-best" class="section level3">
<h3><span class="header-section-number">5.2.3</span> c. Compare the forecasts for the two series using both methods. Which do you think is best?</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">fc_hh &lt;-<span class="st"> </span><span class="kw">forecast</span>(holt_hard)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">fc_sh &lt;-<span class="st"> </span><span class="kw">forecast</span>(holt_soft)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">fc_hes &lt;-<span class="st"> </span><span class="kw">forecast</span>(hb, <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">fc_ses &lt;-<span class="st"> </span><span class="kw">forecast</span>(sb, <span class="dt">h =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7">p1 &lt;-<span class="st"> </span><span class="kw">autoplot</span>(softbound) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(fc_ses, </a>
<a class="sourceLine" id="cb11-8" data-line-number="8">  <span class="dt">series =</span> <span class="st">&quot;SES Paperback&quot;</span>, <span class="dt">PI =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="st">  </span><span class="kw">autolayer</span>(fc_sh, <span class="dt">series =</span> <span class="st">&quot;Holt Paperback&quot;</span>, </a>
<a class="sourceLine" id="cb11-10" data-line-number="10">    <span class="dt">PI =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Paperback Sales&quot;</span>, </a>
<a class="sourceLine" id="cb11-11" data-line-number="11">  <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Daily Sales of Paperback Books&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a>
<a class="sourceLine" id="cb11-13" data-line-number="13"></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"></a>
<a class="sourceLine" id="cb11-15" data-line-number="15">p2 &lt;-<span class="st"> </span><span class="kw">autoplot</span>(hardcover) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(fc_hes, </a>
<a class="sourceLine" id="cb11-16" data-line-number="16">  <span class="dt">series =</span> <span class="st">&quot;SES Paperback&quot;</span>, <span class="dt">PI =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="st">  </span><span class="kw">autolayer</span>(fc_hh, <span class="dt">series =</span> <span class="st">&quot;Holt Paperback&quot;</span>, </a>
<a class="sourceLine" id="cb11-18" data-line-number="18">    <span class="dt">PI =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Hardcover Sales&quot;</span>, </a>
<a class="sourceLine" id="cb11-19" data-line-number="19">  <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Daily Sales of Hardcover Books&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a>
<a class="sourceLine" id="cb11-21" data-line-number="21"></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="kw">grid.arrange</span>(p1, p2, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">top =</span> <span class="kw">textGrob</span>(<span class="st">&quot;Methods Comparison&quot;</span>, </a>
<a class="sourceLine" id="cb11-23" data-line-number="23">  <span class="dt">gp =</span> <span class="kw">gpar</span>(<span class="dt">fontface =</span> <span class="st">&quot;bold&quot;</span>, <span class="dt">cex =</span> <span class="fl">1.5</span>)))</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha7.6c-1.png" width="960" /></p>
<p>While Holt’s method provided better accuracy measures (RMSE), it is a tough choice to pick one model over the other because neither is particularly robust over the long term. the SES is providing a continuous flat prediction which we can see is clearly not how the series has evolved in the past. On the other hand Holt’s method does account for the trend but not the seasonality, so at some point it too would fail. Choosing a model from the two should be done based on your end need (ses being more conservative than holt’s method) and with the understanding that more than a few observations forward and either of them will likely underperform.</p>
<div id="d.-calculate-a-95-prediction-interval-for-the-first-forecast-for-each-series-using-the-rmse-values-and-assuming-normal-errors.-compare-your-intervals-with-those-produced-using-ses-and-holt." class="section level4">
<h4><span class="header-section-number">5.2.3.1</span> d. Calculate a 95% prediction interval for the first forecast for each series, using the RMSE values and assuming normal errors. Compare your intervals with those produced using ses and holt.</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">pi_ses_s &lt;-<span class="st"> </span><span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>acc_soft[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">pi_ses_h &lt;-<span class="st"> </span><span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>acc_hard[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">pi_hl_s &lt;-<span class="st"> </span><span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>acc_holt_soft[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">pi_hl_s &lt;-<span class="st"> </span><span class="fl">1.96</span> <span class="op">*</span><span class="st"> </span>acc_holt_hard[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">l_interval_ses_s &lt;-<span class="st"> </span><span class="kw">round</span>(fc_ses<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="st">  </span>pi_ses_s, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">l_interval_ses_h &lt;-<span class="st"> </span><span class="kw">round</span>(fc_hes<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="st">  </span>pi_ses_h, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-11" data-line-number="11"></a>
<a class="sourceLine" id="cb12-12" data-line-number="12">l_interval_hl_s &lt;-<span class="st"> </span><span class="kw">round</span>(fc_sh<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-13" data-line-number="13"><span class="st">  </span>pi_hl_s, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">l_interval_hl_h &lt;-<span class="st"> </span><span class="kw">round</span>(fc_hh<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="st">  </span>pi_hl_s, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-16" data-line-number="16"></a>
<a class="sourceLine" id="cb12-17" data-line-number="17">u_interval_ses_s &lt;-<span class="st"> </span><span class="kw">round</span>(fc_ses<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-18" data-line-number="18"><span class="st">  </span>pi_ses_s, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-19" data-line-number="19">u_interval_ses_h &lt;-<span class="st"> </span><span class="kw">round</span>(fc_hes<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="st">  </span>pi_ses_h, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-21" data-line-number="21"></a>
<a class="sourceLine" id="cb12-22" data-line-number="22">u_interval_hl_s &lt;-<span class="st"> </span><span class="kw">round</span>(fc_sh<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-23" data-line-number="23"><span class="st">  </span>pi_hl_s, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb12-24" data-line-number="24">u_interval_hl_h &lt;-<span class="st"> </span><span class="kw">round</span>(fc_hh<span class="op">$</span>mean[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-25" data-line-number="25"><span class="st">  </span>pi_hl_s, <span class="dv">3</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th>Model Lower</th>
<th>Model Upper</th>
<th>Calculated Lower</th>
<th>Calculated Upper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SES Softbound</td>
<td>138.867</td>
<td>275.352</td>
<td>141.18</td>
<td>273.04</td>
</tr>
<tr class="even">
<td>SES Hardbound</td>
<td>174.78</td>
<td>304.34</td>
<td>176.975</td>
<td>302.145</td>
</tr>
<tr class="odd">
<td>Holt Softbound</td>
<td>143.913</td>
<td>275.021</td>
<td>156.167</td>
<td>262.766</td>
</tr>
<tr class="even">
<td>Holt Hardbound</td>
<td>192.922</td>
<td>307.426</td>
<td>196.874</td>
<td>303.473</td>
</tr>
</tbody>
</table>
<p>The manually calculated and library-generated prediction intervals are not exactly the same, but they are close. Manual intervals are a bit less consistent with the library computed interval values using the Holt’s linear method than they are with exponentially smoothed (SES) version. Additionally, as SES entails a flat forecast with higher RMSE, its interval is slightly wider than that generated by Holt’s linear method.</p>
</div>
</div>
</div>
<div id="hyndman-7.10" class="section level2">
<h2><span class="header-section-number">5.3</span> Hyndman 7.10</h2>
<blockquote>
<p>For this exercise use data set ukcars, the quarterly UK passenger vehicle production data from 1977Q1–2005Q1.</p>
</blockquote>
<div id="a.-plot-the-data-and-describe-the-main-features-of-the-series." class="section level3">
<h3><span class="header-section-number">5.3.1</span> a. Plot the data and describe the main features of the series.</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">ukcdata &lt;-<span class="st"> </span><span class="kw">window</span>(ukcars, <span class="dt">start =</span> <span class="dv">1977</span>, <span class="dt">end =</span> <span class="dv">2005</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw">autoplot</span>(ukcdata) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Quarterly UK Passenger Vehicle Production Data&quot;</span>, </a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>)</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10a-1.png" width="768" /></p>
<p>There appears to be a general upward trend in production from 1982-Q3 to 2000-Q1. The overall time series shows fluxuations between years suggesting an underlying seasonality component. There also is some less structured periodicity and random-like variation.</p>
</div>
<div id="b.-decompose-the-series-using-stl-and-obtain-the-seasonally-adjusted-data." class="section level3">
<h3><span class="header-section-number">5.3.2</span> b. Decompose the series using STL and obtain the seasonally adjusted data.</h3>
</div>
<div id="stl-decomposition" class="section level3">
<h3><span class="header-section-number">5.3.3</span> STL Decomposition</h3>
<p>Through decomposition, we can confirm the overall increasing trend described in part (a). There are consistant seasonal fluxations which can we can futher evaluate using a seasonal plot.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">ukc_stl &lt;-<span class="st"> </span><span class="kw">stl</span>(ukcars, <span class="dt">t.window =</span> <span class="dv">13</span>, <span class="dt">s.window =</span> <span class="st">&quot;periodic&quot;</span>, </a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="dt">robust =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">ukc_stl <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">autoplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">ggtitle</span>(<span class="st">&quot;Decomposition of UK Cars usign &#39;STL&#39; &quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha7.10b1-1.png" width="960" /></p>
</div>
<div id="seasonal-plots" class="section level3">
<h3><span class="header-section-number">5.3.4</span> Seasonal Plots</h3>
<p>With the seasonal plot, we can see that our overal seasonality component increases between Q1-Q2, decreases Q2-Q3, and increases Q3-Q4. The intensity of the fluxuations vary by year. There are a few exceptions to this observation, for example, 2000 shows a two quarter decrease between Q1-Q3.</p>
<p>The subseries plot further confirms our seasonal pattern and shows that the smallest pattern changes occur between Q1-Q2. The decreases and increases between Q2-Q4 are much more distingushable.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">ukc_s_plot &lt;-<span class="st"> </span><span class="kw">ggseasonplot</span>(ukcdata, <span class="dt">year.labels =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb15-2" data-line-number="2">  <span class="dt">year.labels.left =</span> T, <span class="dt">col =</span> <span class="kw">rainbow</span>(<span class="dv">12</span>, </a>
<a class="sourceLine" id="cb15-3" data-line-number="3">    <span class="dt">s =</span> <span class="fl">0.6</span>, <span class="dt">v =</span> <span class="fl">0.75</span>)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Seasonal plot&quot;</span>, </a>
<a class="sourceLine" id="cb15-4" data-line-number="4">  <span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">ukc_ss_plot &lt;-<span class="st"> </span><span class="kw">ggsubseriesplot</span>(ukcdata) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Subseries plot&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a>
<a class="sourceLine" id="cb15-9" data-line-number="9"></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="kw">grid.arrange</span>(ukc_s_plot, ukc_ss_plot, <span class="dt">ncol =</span> <span class="dv">2</span>, </a>
<a class="sourceLine" id="cb15-11" data-line-number="11">  <span class="dt">top =</span> <span class="st">&quot;Quarterly UK Passenger Vehicle Production Data&quot;</span>)</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10b2-1.png" width="768" /></p>
<p>We can capture the seasonal component observed in the data and control for the changes overtime using a seasonal adjustment. We compared the seasonally adjusted data to the observed data for <code>ukcars</code> below:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">ukc_seas &lt;-<span class="st"> </span><span class="kw">seasadj</span>(ukc_stl)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="kw">autoplot</span>(ukcdata, <span class="dt">series =</span> <span class="st">&quot;Data&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">autolayer</span>(ukc_seas, </a>
<a class="sourceLine" id="cb16-4" data-line-number="4">  <span class="dt">series =</span> <span class="st">&quot;Seasonally Adjusted&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Quarterly UK Passenger Vehicle Production Data&quot;</span>, </a>
<a class="sourceLine" id="cb16-5" data-line-number="5">  <span class="dt">subtitle =</span> <span class="st">&quot;Seasonally Adjusted Comparison&quot;</span>, </a>
<a class="sourceLine" id="cb16-6" data-line-number="6">  <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_colour_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#bfbfbf&quot;</span>, </a>
<a class="sourceLine" id="cb16-7" data-line-number="7">  <span class="st">&quot;#99b3ff&quot;</span>), <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="st">&quot;Data&quot;</span>, <span class="st">&quot;Seasonally Adjusted&quot;</span>, </a>
<a class="sourceLine" id="cb16-8" data-line-number="8">  <span class="st">&quot;Trend&quot;</span>)) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10b3-1.png" width="768" /></p>
</div>
<div id="c.-forecast-the-next-two-years-of-the-series-using-an-additive-damped-trend-method-applied-to-the-seasonally-adjusted-data.-this-can-be-done-in-one-step-using-stlf-with-arguments-etsmodelaan-dampedtrue." class="section level3">
<h3><span class="header-section-number">5.3.5</span> c. Forecast the next two years of the series using an additive damped trend method applied to the seasonally adjusted data. (This can be done in one step using stlf() with arguments etsmodel=“AAN”, damped=TRUE.)</h3>
<p>As the data is seasonally adjusted, we use an AAN model (error = A, trend = A, and seasonal = N). Damped models are often better at forecasting long-run values.</p>
<div id="forecast" class="section level4">
<h4><span class="header-section-number">5.3.5.1</span> Forecast</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">ukc_stlf1 &lt;-<span class="st"> </span><span class="kw">stlf</span>(ukcdata, <span class="dt">s.window =</span> <span class="st">&quot;periodic&quot;</span>, </a>
<a class="sourceLine" id="cb17-2" data-line-number="2">  <span class="dt">etsmodel =</span> <span class="st">&quot;AAN&quot;</span>, <span class="dt">damped =</span> <span class="ot">TRUE</span>, <span class="dt">h =</span> <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">rmse_holt_d &lt;-<span class="st"> </span><span class="kw">accuracy</span>(ukc_stlf1)[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb17-4" data-line-number="4"></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="kw">kable</span>(<span class="kw">forecast</span>(ukc_stlf1), <span class="st">&quot;latex&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>(<span class="dt">latex_options =</span> <span class="kw">c</span>(<span class="st">&quot;hold_position&quot;</span>, </a>
<a class="sourceLine" id="cb17-6" data-line-number="6">  <span class="st">&quot;striped&quot;</span>))</a></code></pre></div>

</div>
<div id="plot-1" class="section level4">
<h4><span class="header-section-number">5.3.5.2</span> Plot</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">autoplot</span>(ukc_stlf1, <span class="dt">size =</span> <span class="fl">1.25</span>, <span class="dt">fcol =</span> <span class="st">&quot;#0044cc&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">  </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(ukc_stlf1), <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, </a>
<a class="sourceLine" id="cb18-3" data-line-number="3">    <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, <span class="dt">color =</span> <span class="st">&quot;#99b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Years&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10c2-1.png" width="768" /></p>
</div>
</div>
<div id="d.-forecast-the-next-two-years-of-the-series-using-holts-linear-method-applied-to-the-seasonally-adjusted-data-as-before-but-with-dampedfalse." class="section level3">
<h3><span class="header-section-number">5.3.6</span> d. Forecast the next two years of the series using Holt’s linear method applied to the seasonally adjusted data (as before but with damped=FALSE).</h3>
<p>We again use an AAN model (error = A, trend = A, seasonality = N) - this time without damping, so point forecasts are a little bit higher.</p>
<div id="forecast-1" class="section level4">
<h4><span class="header-section-number">5.3.6.1</span> Forecast</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">ukc_stlf2 &lt;-<span class="st"> </span><span class="kw">stlf</span>(ukcdata, <span class="dt">s.window =</span> <span class="st">&quot;periodic&quot;</span>, </a>
<a class="sourceLine" id="cb19-2" data-line-number="2">  <span class="dt">etsmodel =</span> <span class="st">&quot;AAN&quot;</span>, <span class="dt">damped =</span> <span class="ot">FALSE</span>, <span class="dt">h =</span> <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">rmse_holt_u &lt;-<span class="st"> </span><span class="kw">accuracy</span>(ukc_stlf2)[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="kw">kable</span>(<span class="kw">forecast</span>(ukc_stlf2), <span class="st">&quot;latex&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>(<span class="dt">latex_options =</span> <span class="kw">c</span>(<span class="st">&quot;hold_position&quot;</span>, </a>
<a class="sourceLine" id="cb19-6" data-line-number="6">  <span class="st">&quot;striped&quot;</span>))</a></code></pre></div>

</div>
<div id="plot-2" class="section level4">
<h4><span class="header-section-number">5.3.6.2</span> Plot</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">autoplot</span>(ukc_stlf2, <span class="dt">size =</span> <span class="fl">1.25</span>, <span class="dt">fcol =</span> <span class="st">&quot;#0044cc&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="st">  </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(ukc_stlf2), <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, </a>
<a class="sourceLine" id="cb20-3" data-line-number="3">    <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, <span class="dt">color =</span> <span class="st">&quot;#99b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Years&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10d2-1.png" width="768" /></p>
</div>
</div>
<div id="e.-now-use-ets-to-choose-a-seasonal-model-for-the-data." class="section level3">
<h3><span class="header-section-number">5.3.7</span> e. Now use ets() to choose a seasonal model for the data.</h3>
<p>ETS automatically chooses the best model by minimizing AIC, which results in a error = A, trend = N, seasonal = A model.</p>
<div id="seasonal-model" class="section level4">
<h4><span class="header-section-number">5.3.7.1</span> Seasonal Model</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">ukc_ets &lt;-<span class="st"> </span><span class="kw">ets</span>(ukcdata)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">summary</span>(ukc_ets)</a></code></pre></div>
<pre><code>FALSE ETS(A,N,A) 
FALSE 
FALSE Call:
FALSE  ets(y = ukcdata) 
FALSE 
FALSE   Smoothing parameters:
FALSE     alpha = 0.6199 
FALSE     gamma = 1e-04 
FALSE 
FALSE   Initial states:
FALSE     l = 314.2568 
FALSE     s = -1.7579 -44.9601 21.1956 25.5223
FALSE 
FALSE   sigma:  25.9302
FALSE 
FALSE      AIC     AICc      BIC 
FALSE 1277.752 1278.819 1296.844 
FALSE 
FALSE Training set error measures:
FALSE                    ME     RMSE      MAE
FALSE Training set 1.313884 25.23244 20.17907
FALSE                     MPE     MAPE      MASE
FALSE Training set -0.1570979 6.629003 0.6576259
FALSE                    ACF1
FALSE Training set 0.02573334</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">ukc_ets_fc &lt;-<span class="st"> </span>ukc_ets <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">forecast</span>(<span class="dt">h =</span> <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">rmse_ets &lt;-<span class="st"> </span><span class="kw">accuracy</span>(ukc_ets)[<span class="dv">2</span>]</a></code></pre></div>
</div>
<div id="plot-3" class="section level4">
<h4><span class="header-section-number">5.3.7.2</span> Plot</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">autoplot</span>(ukc_ets_fc, <span class="dt">size =</span> <span class="fl">1.25</span>, <span class="dt">fcol =</span> <span class="st">&quot;#0044cc&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="st">  </span><span class="kw">autolayer</span>(<span class="kw">fitted</span>(ukc_ets), <span class="dt">series =</span> <span class="st">&quot;Fitted&quot;</span>, </a>
<a class="sourceLine" id="cb24-3" data-line-number="3">    <span class="dt">alpha =</span> <span class="fl">0.5</span>, <span class="dt">size =</span> <span class="fl">1.5</span>, <span class="dt">color =</span> <span class="st">&quot;#99b3ff&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Years&quot;</span>)</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10e2-1.png" width="768" /></p>
</div>
</div>
<div id="f.-compare-the-rmse-of-the-ets-model-with-the-rmse-of-the-models-you-obtained-using-stl-decompositions.-which-gives-the-better-in-sample-fits" class="section level3">
<h3><span class="header-section-number">5.3.8</span> f. Compare the RMSE of the ETS model with the RMSE of the models you obtained using STL decompositions. Which gives the better in-sample fits?</h3>
<p>Our STL decomponsition, using additive damped trend method with no seasonal components (<span class="math inline">\(A, A_d, N\)</span>), produced the best in-sample fit. This model provided us with the lowest RMSE, suggesting the highest degree of accuracy between our predicted and observed data. We should note, however, there is a very small variation in RMSE between all STL and ETS models.</p>
<ul>
<li><strong>STL:</strong> 25.2604123</li>
<li><strong>HOLT:</strong> 25.1598573</li>
<li><strong>ETS:</strong> 25.2324409</li>
</ul>
</div>
<div id="g.-compare-the-forecasts-from-the-three-approaches-which-seems-most-reasonable" class="section level3">
<h3><span class="header-section-number">5.3.9</span> g. Compare the forecasts from the three approaches? Which seems most reasonable?</h3>
<p>The forecasts from the ETS (<span class="math inline">\(A, N, A\)</span>) model appears most reasonable and fits our data best. This is not surprising as the <code>ets</code> function automatically selects the methodology based on the provided data. The forecasts using STL were both linear, whereas the ETS model was able to predict seasonal pattern changes across our 2-year (8-quarter) prediction.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">ukc_series &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dt">Data =</span> ukcdata, <span class="st">`</span><span class="dt">Forecast (STL1)</span><span class="st">`</span> =<span class="st"> </span>ukc_stlf1[[<span class="st">&quot;mean&quot;</span>]], </a>
<a class="sourceLine" id="cb25-2" data-line-number="2">  <span class="st">`</span><span class="dt">Forecast (STL2)</span><span class="st">`</span> =<span class="st"> </span>ukc_stlf2[[<span class="st">&quot;mean&quot;</span>]], </a>
<a class="sourceLine" id="cb25-3" data-line-number="3">  <span class="st">`</span><span class="dt">Forecast (ETS)</span><span class="st">`</span> =<span class="st"> </span>ukc_ets_fc[[<span class="st">&quot;mean&quot;</span>]])</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="kw">autoplot</span>(ukc_series, <span class="dt">size =</span> <span class="dv">1</span>, <span class="dt">alpha =</span> <span class="fl">0.75</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">name =</span> <span class="st">&quot;&quot;</span>, <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#000000&quot;</span>, </a>
<a class="sourceLine" id="cb25-7" data-line-number="7">    <span class="st">&quot;#0044cc&quot;</span>, <span class="st">&quot;#99b3ff&quot;</span>, <span class="st">&quot;#e0b3ff&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Quarterly UK Passenger Vehicle Production Data&quot;</span>, </a>
<a class="sourceLine" id="cb25-9" data-line-number="9">    <span class="dt">subtitle =</span> <span class="st">&quot;2-Year Forecast Comparison using STL and ETS Models&quot;</span>, </a>
<a class="sourceLine" id="cb25-10" data-line-number="10">    <span class="dt">x =</span> <span class="st">&quot;Years&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Production&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10g-1.png" width="768" /></p>
</div>
<div id="h.-check-the-residuals-of-your-preferred-model." class="section level3">
<h3><span class="header-section-number">5.3.10</span> h. Check the residuals of your preferred model.</h3>
<p>The plots below contains our residuals data from the preferred ETS model. We observed constant variance and normally distribution of our residuals, suggesting our model has adequately captured the information from the <code>ukcars</code> data</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">cbind</span>(<span class="dt">Residuals =</span> <span class="kw">residuals</span>(ukc_ets), <span class="st">`</span><span class="dt">Forecast errors</span><span class="st">`</span> =<span class="st"> </span><span class="kw">residuals</span>(ukc_ets, </a>
<a class="sourceLine" id="cb26-2" data-line-number="2">  <span class="dt">type =</span> <span class="st">&quot;innovation&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">autoplot</span>(<span class="dt">facet =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Residuals from ETS (A,N,A) model of UKcars data&quot;</span>, </a>
<a class="sourceLine" id="cb26-4" data-line-number="4">    <span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>()</a></code></pre></div>
<p><img src="homework-one_files/figure-html/ha-7.10h-1.png" width="960" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="assignment-four.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assignment-six.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["homework-one.pdf", "homework-one.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
